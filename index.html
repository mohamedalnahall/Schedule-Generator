<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Schedule-Generator</title>
    <link rel="stylesheet" href="css/master.css">
    <link rel="stylesheet" href="css/framework.css">
</head>
<body theme="light yellow" style="background-color: var(--background);">
    <script>
        const darkThemeMq = window.matchMedia("(prefers-color-scheme: dark)");
        if(darkThemeMq.matches) document.body.setAttribute("theme", "dark yellow");
        darkThemeMq.addListener(e => {
            e.matches? document.body.setAttribute("theme", "dark yellow") : document.body.setAttribute("theme", "light yellow");
        });
    </script>
    <div id="mainPanel" class="column gap-14">
        <header class="srow">
            <div class="rrow gap-14">
                <svg xmlns="http://www.w3.org/2000/svg"width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="var(--gray-3)" fill="none" stroke-linecap="round" stroke-linejoin="round">
                    <path stroke="none" d="M0 0h24v24H0z" fill="none"></path>
                    <path d="M14 6l-6 6l6 6v-12"></path>
                </svg>
                <h1>مولد الجداول</h1>
                <a href="https://github.com/mohamedalnahall/Schedule-Generator" class="small crow c-gray-2 bg-gray-2">بواسطة __ محمد مدحت النحال
                    <svg xmlns="http://www.w3.org/2000/svg" style="padding-right: 5px;" width="22" height="17" viewBox="0 0 24 24" stroke-width="1" stroke="var(--gray-2-txt)" fill="none" stroke-linecap="round" stroke-linejoin="round">
                        <path d="M9 19c-4.3 1.4 -4.3 -2.5 -6 -3m12 5v-3.5c0 -1 .1 -1.4 -.5 -2c2.8 -.3 5.5 -1.4 5.5 -6a4.6 4.6 0 0 0 -1.3 -3.2a4.2 4.2 0 0 0 -.1 -3.2s-1.1 -.3 -3.5 1.3a12.3 12.3 0 0 0 -6.2 0c-2.4 -1.6 -3.5 -1.3 -3.5 -1.3a4.2 4.2 0 0 0 -.1 3.2a4.6 4.6 0 0 0 -1.3 3.2c0 4.6 2.7 5.7 5.5 6c-.6 .6 -.6 1.2 -.5 2v3.5"></path>
                    </svg>
                </a>
            </div>
            <div id="theme-selector" class="column gap-14 bg-gray-2 pointer small" style="height: 30px; transition: height; transition-duration: var(--transition);" onclick="openThemePanel(this);">
                    <div class="srow" style="margin-top: 3px;">
                        <div class="crow">
                            <svg xmlns="http://www.w3.org/2000/svg" style="margin-left: 10px;" width="20" height="20" viewBox="0 0 24 24" stroke-width="1" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
                                <path d="M3 21v-4a4 4 0 1 1 4 4h-4"></path>
                                <path d="M21 3a16 16 0 0 0 -12.8 10.2"></path>
                                <path d="M21 3a16 16 0 0 1 -10.2 12.8"></path>
                                <path d="M10.6 9a9 9 0 0 1 4.4 4.4"></path>
                            </svg>
                            <div class="c-gray-2">
                                المظهر
                            </div>
                        </div>
                        <svg class="arrow transy" style="transform-origin: center;" xmlns="http://www.w3.org/2000/svg"width="24" height="24" viewBox="0 0 24 24" stroke-width="1" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
                            <path d="M6 9l6 6l6 -6"></path>
                        </svg>
                    </div>
                    <div class="themes column gap-8">
                        <span class="word-line srow">
                            <div class="bg-gray-3"></div>
                            <span>فاتح</span>
                            <div class="bg-gray-3"></div>
                        </span>
                        <div class="srow transy" onclick="document.body.setAttribute('theme','light ucas')">مظهر يوكاس
                            <div style="background: linear-gradient(to right, #71c158, #1c6ead);"></div>
                        </div>
                        <div class="srow transy" onclick="document.body.setAttribute('theme','light yellow')">مظهر اصفر
                            <div style="background-color: #ffc700;"></div>
                        </div>
                        <div class="srow transy" onclick="document.body.setAttribute('theme','light green')">مظهر اخضر
                            <div style="background-color: #27df55;"></div>
                        </div>
                        <div class="srow transy" onclick="document.body.setAttribute('theme','light blue')">مظهر ازرق
                            <div style="background: #1c90f0;"></div>
                        </div>
                        <span class="word-line srow">
                            <div class="bg-gray-3"></div>
                            <span>غامق</span>
                            <div class="bg-gray-3"></div>
                        </span>
                        <div class="srow transy" onclick="document.body.setAttribute('theme','dark ucas')">مظهر يوكاس
                            <div style="background: linear-gradient(to right, #71c158, #1c6ead);"></div>
                        </div>
                        <div class="srow transy" onclick="document.body.setAttribute('theme','dark yellow')">مظهر اصفر
                            <div style="background-color: #dbac00;"></div>
                        </div>
                        <div class="srow transy" onclick="document.body.setAttribute('theme','dark green')">مظهر اخضر
                            <div style="background-color: #27c400;"></div>
                        </div>
                        <div class="srow transy" onclick="document.body.setAttribute('theme','dark blue')">مظهر ازرق
                            <div style="background-color: #0070cc;"></div>
                        </div>
                        <span></span>
                        <span></span>  
                    </div>
            </div>
            <button id="settings-button" class="rrow gap-8 bg-gray-2 small" onclick="showSettings()">
                <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" stroke-width="1" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
                    <path stroke="none" d="M0 0h24v24H0z" fill="none"></path>
                    <path d="M10.325 4.317c.426 -1.756 2.924 -1.756 3.35 0a1.724 1.724 0 0 0 2.573 1.066c1.543 -.94 3.31 .826 2.37 2.37a1.724 1.724 0 0 0 1.065 2.572c1.756 .426 1.756 2.924 0 3.35a1.724 1.724 0 0 0 -1.066 2.573c.94 1.543 -.826 3.31 -2.37 2.37a1.724 1.724 0 0 0 -2.572 1.065c-.426 1.756 -2.924 1.756 -3.35 0a1.724 1.724 0 0 0 -2.573 -1.066c-1.543 .94 -3.31 -.826 -2.37 -2.37a1.724 1.724 0 0 0 -1.065 -2.572c-1.756 -.426 -1.756 -2.924 0 -3.35a1.724 1.724 0 0 0 1.066 -2.573c-.94 -1.543 .826 -3.31 2.37 -2.37c1 .608 2.296 .07 2.572 -1.065z"></path>
                    <path d="M9 12a3 3 0 1 0 6 0a3 3 0 0 0 -6 0"></path>
                </svg>
                الاعدادات                
            </button>
        </header>        
        <div class="bg-white srow fadeable">
            <div class="column gap-14" style="height: 100%; width: 35%;">
                <h1 class="crow">المساقات</h1>
                <div class="word-line srow">
                    <div class="bg-gray-3"></div>
                    <div class="bg-gray-3"></div>
                </div>
                <div id="courses" class="scroll column gap-14">
                    <div id="coursesSeparator" style="margin-top: -14px;"></div>
                    <button class="unit bg-gray srow" onclick="showAddCourse()">
                        <span class="c-black">اضافة مساق</span>
                        <svg style="margin-left: -7px;" xmlns="http://www.w3.org/2000/svg" width="28" height="28" viewBox="0 0 24 24" stroke-width="1" stroke="var(--black)" fill="none" stroke-linecap="round" stroke-linejoin="round">
                            <path d="M12 5l0 14"></path>
                            <path d="M5 12l14 0"></path>
                        </svg>
                    </button>                    
                    <div class="word-line srow">
                        <div class="bg-gray-3"></div>
                        <div class="bg-gray-3"></div>
                    </div>
                    <button for="json-selector" class="unit bg-gray srow pointer" onclick="uploadJson()">
                        <span class="c-black">تحميل المساقات</span>
                        <svg style="margin-left: -7px;" height="24" fill="var(--gray-txt)" viewBox="0 0 24 24" width="24" xmlns="http://www.w3.org/2000/svg">
                            <path d="M12.823 15.122c-.517 0-.816.491-.816 1.146 0 .661.311 1.126.82 1.126.517 0 .812-.49.812-1.146 0-.604-.291-1.126-.816-1.126z"/>
                            <path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8l-6-6zM8.022 16.704c0 .961-.461 1.296-1.2 1.296-.176 0-.406-.029-.557-.08l.086-.615c.104.035.239.06.391.06.319 0 .52-.145.52-.67v-2.122h.761v2.131zm1.459 1.291c-.385 0-.766-.1-.955-.205l.155-.631c.204.105.521.211.846.211.35 0 .534-.146.534-.365 0-.211-.159-.331-.564-.476-.562-.195-.927-.506-.927-.996 0-.576.481-1.017 1.277-1.017.38 0 .659.08.861.171l-.172.615c-.135-.065-.375-.16-.705-.16s-.491.15-.491.325c0 .215.19.311.627.476.596.22.876.53.876 1.006.001.566-.436 1.046-1.362 1.046zm3.306.005c-1.001 0-1.586-.755-1.586-1.716 0-1.012.646-1.768 1.642-1.768 1.035 0 1.601.776 1.601 1.707C14.443 17.33 13.773 18 12.787 18zm4.947-.055h-.802l-.721-1.302a12.64 12.64 0 0 1-.585-1.19l-.016.005c.021.445.031.921.031 1.472v1.016h-.701v-3.373h.891l.701 1.236c.2.354.4.775.552 1.155h.014c-.05-.445-.065-.9-.065-1.406v-.985h.702v3.372zM14 9h-1V4l5 5h-4z"/>
                        </svg>
                    </button>
                    <button class="unit bg-gray srow" onclick="downloadJson()">
                        <span class="c-black">حفظ المساقات</span>
                        <svg style="margin-left: -7px;" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="var(--gray-txt)" fill="none" stroke-linecap="round" stroke-linejoin="round">
                            <path stroke="none" d="M0 0h24v24H0z" fill="none"></path>
                            <path d="M4 17v2a2 2 0 0 0 2 2h12a2 2 0 0 0 2 -2v-2"></path>
                            <path d="M7 11l5 5l5 -5"></path>
                            <path d="M12 4l0 12"></path>
                        </svg>
                    </button>
                </div>
            </div>
            <div style="height: 100%; width: 1px;" class="bg-gray-3"></div>
            <div class="column gap-14" style="height: 100%; width: 60%;">
                <h1 class="crow">التفضيلات</h1>
                <div class="rrow c-gray-txt">
                    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="var(--gray-txt)" fill="var(--gray)" stroke-linecap="round" stroke-linejoin="round">
                        <path stroke="none" stroke-width="0" d="M12 12m-11 0a9 9 0 1022 0 9 9 0 10-22 0"></path>
                        <path d="M12 8l0 4"></path>
                        <path d="M12 16l.01 0"></path>
                    </svg>
                    <div style="margin-right: 8px;">ملاحظة : هذه التفضيلات سيتم تطبيقها ان امكن ذلك</div>
                </div>
                <div class="column gap-14 scroll">
                    <div class="rrow gap-8">
                        <h2>الايام غير المرغوبة</h2>
                        <svg class="pointer i-btn" onclick="showPrefWeight(proxy.preferences.unwantedDays)" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" stroke-width="1" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
                            <path stroke="none" d="M0 0h24v24H0z" fill="none"></path>
                                <path d="M2 12h1"></path>
                                <path d="M6 8h-2a1 1 0 0 0 -1 1v6a1 1 0 0 0 1 1h2"></path>
                                <path d="M6 7v10a1 1 0 0 0 1 1h1a1 1 0 0 0 1 -1v-10a1 1 0 0 0 -1 -1h-1a1 1 0 0 0 -1 1z"></path>
                                <path d="M9 12h6"></path>
                                <path d="M15 7v10a1 1 0 0 0 1 1h1a1 1 0 0 0 1 -1v-10a1 1 0 0 0 -1 -1h-1a1 1 0 0 0 -1 1z"></path>
                                <path d="M18 8h2a1 1 0 0 1 1 1v6a1 1 0 0 1 -1 1h-2"></path>
                                <path d="M22 12h-1"></path>
                            </svg>
                    </div>
                    <div class="rrow wrap gap-14 fit-content-master">
                        <div id="sa" class="unit bg-gray crow pointer transy" onclick="unwant(this)">
                        <div>
                            <div></div>
                            <div></div>
                        </div>
                        السبت
                        </div>
                        <div id="su" class="unit bg-gray crow pointer transy" onclick="unwant(this)">
                        <div>
                            <div></div>
                            <div></div>
                        </div>
                        الاحد
                        </div>
                        <div id="mo" class="unit bg-gray crow pointer transy" onclick="unwant(this)">
                        <div>
                            <div></div>
                            <div></div>
                        </div>
                        الاثنين
                        </div>
                        <div id="tu" class="unit bg-gray crow pointer transy" onclick="unwant(this)">
                        <div>
                            <div></div>
                            <div></div>
                        </div>
                        الثلاثاء
                        </div>
                        <div id="we" class="unit bg-gray crow pointer transy" onclick="unwant(this)">                       
                        <div>
                            <div></div>
                            <div></div>
                        </div>
                        الاربعاء
                        </div>
                        <div id="th" class="unit bg-gray crow pointer transy unwanted" onclick="unwant(this)">                        
                        <div>
                            <div></div>
                            <div></div>
                        </div>
                        الخميس
                        </div>
                    </div>
                    <div class="rrow gap-8">
                        <h2>الاوقات المفضلة</h2>
                        <svg class="pointer i-btn" onclick="showPrefWeight(proxy.preferences.bestTimes)" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" stroke-width="1" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
                            <path stroke="none" d="M0 0h24v24H0z" fill="none"></path>
                                <path d="M2 12h1"></path>
                                <path d="M6 8h-2a1 1 0 0 0 -1 1v6a1 1 0 0 0 1 1h2"></path>
                                <path d="M6 7v10a1 1 0 0 0 1 1h1a1 1 0 0 0 1 -1v-10a1 1 0 0 0 -1 -1h-1a1 1 0 0 0 -1 1z"></path>
                                <path d="M9 12h6"></path>
                                <path d="M15 7v10a1 1 0 0 0 1 1h1a1 1 0 0 0 1 -1v-10a1 1 0 0 0 -1 -1h-1a1 1 0 0 0 -1 1z"></path>
                                <path d="M18 8h2a1 1 0 0 1 1 1v6a1 1 0 0 1 -1 1h-2"></path>
                                <path d="M22 12h-1"></path>
                            </svg>
                    </div>
                    <div id="best_time_slider" class="slider">
                        <div class="bg-gray-txt srow" style="height: 1px;">
                            <div class="coverd"></div>
                            <div class="coverd"></div>
                            <div class="coverd"></div>
                            <div class="coverd"></div>
                            <div class="coverd"></div>
                            <div></div>
                            <div></div>
                            <div></div>
                            <div></div>
                        </div>
                        <div class="srow" style="margin-top: 21px;">
                            <div style="transform: translateX(50%);">8</div>
                            <div>9</div>
                            <div>10</div>
                            <div>11</div>
                            <div>12</div>
                            <div>13</div>
                            <div>14</div>
                            <div>15</div>
                            <div>16</div>
                        </div>
                        <div class="bg-main" style="--start: 0%; --end: 50%;">
                            <div onmousedown="bestTimeNodeDrag(event, 1)"></div>
                            <div onmousedown="bestTimeNodeDrag(event, 2)"></div>
                        </div>
                    </div>
                    <div class="rrow gap-8" style="align-items: start;">
                        <div class="rrow gap-8">
                            <h2>عدد المحاضرات</h2>
                            <svg class="pointer i-btn" onclick="showPrefWeight(proxy.preferences.lectuersPerDay)" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" stroke-width="1" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
                                <path stroke="none" d="M0 0h24v24H0z" fill="none"></path>
                                <path d="M2 12h1"></path>
                                <path d="M6 8h-2a1 1 0 0 0 -1 1v6a1 1 0 0 0 1 1h2"></path>
                                <path d="M6 7v10a1 1 0 0 0 1 1h1a1 1 0 0 0 1 -1v-10a1 1 0 0 0 -1 -1h-1a1 1 0 0 0 -1 1z"></path>
                                <path d="M9 12h6"></path>
                                <path d="M15 7v10a1 1 0 0 0 1 1h1a1 1 0 0 0 1 -1v-10a1 1 0 0 0 -1 -1h-1a1 1 0 0 0 -1 1z"></path>
                                <path d="M18 8h2a1 1 0 0 1 1 1v6a1 1 0 0 1 -1 1h-2"></path>
                                <path d="M22 12h-1"></path>
                            </svg>
                        </div>
                        <div id="lectures_per_day_slider" class="slider" style="flex-grow: 2; margin-top: 1.25rem;">
                                <div class="bg-gray-txt srow" style="height: 1px;">
                                    <div></div>
                                    <div class="coverd"></div>
                                    <div class="coverd"></div>
                                    <div class="coverd"></div>
                                    <div></div>
                                    <div></div>
                                </div>
                                <div class="srow" style="margin-top: 21px;">
                                    <div style="transform: translateX(50%);">1</div>
                                    <div>2</div>
                                    <div>3</div>
                                    <div>4</div>
                                    <div>5</div>
                                    <div>6</div>
                                </div>
                                <div class="bg-main" style="--start: 20%; --end: 60%;">
                                    <div onmousedown="lectuersPerDayNodeDrag(event, 1)"></div>
                                    <div onmousedown="lectuersPerDayNodeDrag(event, 2)"></div>
                                </div>
                        </div>
                    </div>
                    <div class="rrow gap-8" style="align-items: start;">
                        <div class="rrow gap-8">
                            <h2>اقصى وقت فراغ</h2>
                            <svg class="pointer i-btn" onclick="showPrefWeight(proxy.preferences.maxFreeTime)" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" stroke-width="1" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
                                <path stroke="none" d="M0 0h24v24H0z" fill="none"></path>
                                <path d="M2 12h1"></path>
                                <path d="M6 8h-2a1 1 0 0 0 -1 1v6a1 1 0 0 0 1 1h2"></path>
                                <path d="M6 7v10a1 1 0 0 0 1 1h1a1 1 0 0 0 1 -1v-10a1 1 0 0 0 -1 -1h-1a1 1 0 0 0 -1 1z"></path>
                                <path d="M9 12h6"></path>
                                <path d="M15 7v10a1 1 0 0 0 1 1h1a1 1 0 0 0 1 -1v-10a1 1 0 0 0 -1 -1h-1a1 1 0 0 0 -1 1z"></path>
                                <path d="M18 8h2a1 1 0 0 1 1 1v6a1 1 0 0 1 -1 1h-2"></path>
                                <path d="M22 12h-1"></path>
                            </svg>
                        </div>
                        <div id="max_free_time_slider" class="slider" style="flex-grow: 2; margin-top: 1.25rem;">
                                <div class="bg-gray-txt srow" style="height: 1px;">
                                    <div class="coverd"></div>
                                    <div class="coverd"></div>
                                    <div></div>
                                    <div></div>
                                    <div></div>
                                    <div></div>
                                    <div></div>
                                </div>
                                <div class="srow" style="margin-top: 21px;">
                                    <div style="transform: translateX(50%);">0</div>
                                    <div>1</div>
                                    <div>2</div>
                                    <div>3</div>
                                    <div>4</div>
                                    <div>5</div>
                                    <div>6</div>
                                </div>
                                <div class="bg-main" style="--start: 0%; --end: 25%;">
                                    <span></span>
                                    <div onmousedown="maxFreeTimeNodeDrag(event)"></div>
                                </div>
                        </div>
                    </div>
                    <h2 style="display: none;">هل تفضل</h2>
                    <div class="column gap-8" style="display: none;">
                        <choice id="with_no_free_time" class="unit bg-gray crow pointer transy selected" onclick="select(this)">                        
                            <div>
                                <div></div>
                                <div></div>
                            </div>
                            جدول ممتلئ بدون اوقات فراغ تتخلله
                        </choice>
                        <div class="word-line srow">
                            <div class="bg-gray-3"></div>
                            <span class="small">او</span>
                            <div class="bg-gray-3"></div>
                        </div>
                        <choice id="with_free_time" class="unit bg-gray crow transy pointer" onclick="select(this)" style="margin-bottom: 14px;">
                            <div>
                                <div></div>
                                <div></div>
                            </div>
                            جدول مفرغ تتخلله اوقات فراغ
                        </choice>
                    </div>
                </div>
            </div>
        </div>
        <div id="schedulesPanel" style="position: absolute; bottom: -79px; height: 65px; overflow: hidden;" class="bg-main slow-transy">
            <div style="position: relative; width: 100%; height: 65px;" class="pointer srow" onclick="showSchedules()">
                <div style="position: absolute; height: 100%; right: 50%; transform: translateX(50%);" class="crow slow-transy">
                    <h1 class="c-over-main slow-transy" style="flex-grow: 1;">توليد الجداول</h1>
                    <svg style="display: none;" version="1.1" id="loading" width="50" height="50" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px"
                        viewBox="0 0 100 100" enable-background="new 0 0 0 0" xml:space="preserve">
                        <path style="fill: var(--over-main);" d="M73,50c0-12.7-10.3-23-23-23S27,37.3,27,50 M30.9,50c0-10.5,8.5-19.1,19.1-19.1S69.1,39.5,69.1,50">
                            <animateTransform 
                                attributeName="transform" 
                                attributeType="XML" 
                                type="rotate"
                                dur="1s" 
                                from="0 50 50"
                                to="360 50 50" 
                                repeatCount="indefinite" />
                        </path>
                    </svg>
                </div>
                <svg class="arrow slow-transy" style="transform-origin: center; transform: rotate(180deg); position:absolute; left: 40px;" xmlns="http://www.w3.org/2000/svg"width="30" height="30" viewBox="0 0 24 24" stroke-width="2" stroke="var(--over-main)" fill="none" stroke-linecap="round" stroke-linejoin="round">
                    <path d="M6 9l6 6l6 -6"></path>
                </svg>
            </div>
            <div class="column gap-14 slow-transy" style="padding: 0 40px; opacity: 0; height: 100%;">
                <div class="srow">
                    <div>جدول رقم <span id="scheduleNum">1</span></div>
                </div>
                <div class="srow" style="padding: 0 25px 0 25px">
                    <div class="small" style="width: 150px;">اسم المساق</div>
                    <div class="bg-gray-txt" style="height: 15px; width: 1px;"></div>
                    <div class="crow small" style="width: 40px;">ش.</div>
                    <div class="bg-gray-txt" style="height: 15px; width: 1px;"></div>
                    <div class="crow small" style="width: 70px;">السبت</div>
                    <div class="bg-gray-txt" style="height: 15px; width: 1px;"></div>
                    <div class="crow small" style="width: 70px;">الاحد</div>
                    <div class="bg-gray-txt" style="height: 15px; width: 1px;"></div>
                    <div class="crow small" style="width: 70px;">الاثنين</div>
                    <div class="bg-gray-txt" style="height: 15px; width: 1px;"></div>
                    <div class="crow small" style="width: 70px;">الثلاثاء</div>
                    <div class="bg-gray-txt" style="height: 15px; width: 1px;"></div>
                    <div class="crow small" style="width: 70px;">الاربعاء</div>
                    <div class="bg-gray-txt" style="height: 15px; width: 1px;"></div>
                    <div class="crow small" style="width: 70px;">الخميس</div>
                </div>
                <div id="schedulesSlider" class="scroll" style="position: relative; height: calc(100% - 205px); --curr: 0; --size: 1;">
                    <div id="schedules" class="crow transy gap-14" style="position: absolute; right: calc((-100% - 14px) * var(--curr) ); width: calc((100% * var(--size)) + 14px * (var(--size) - 1)); top: 50%; transform: translateY(calc(-50% + 15px));">
                    </div>
                </div>
                <div id="leftArrow" class="crow bg-white pointer" style="position: absolute; top: 50%; left: 15px; box-shadow: 0 0 5px 1px var(--shadow); width: 50px; height: 50px;" onclick="slideTo(parseInt(document.getElementById('schedulesSlider').style.getPropertyValue('--curr')) + 1)">
                    <svg style="transform-origin: center; transform: rotate(90deg);" xmlns="http://www.w3.org/2000/svg" width="30" height="30" viewBox="0 0 24 24" stroke-width="1" stroke="var(--black)" fill="none" stroke-linecap="round" stroke-linejoin="round">
                        <path d="M6 9l6 6l6 -6"></path>
                    </svg>
                </div>
                <div id="rightArrow" class="crow bg-white pointer" style="position: absolute; top: 50%; right: 15px; box-shadow: 0 0 5px 1px var(--shadow); width: 50px; height: 50px;" onclick="slideTo(parseInt(document.getElementById('schedulesSlider').style.getPropertyValue('--curr')) - 1)">
                    <svg style="transform-origin: center; transform: rotate(-90deg);" xmlns="http://www.w3.org/2000/svg" width="30" height="30" viewBox="0 0 24 24" stroke-width="1" stroke="var(--black)" fill="none" stroke-linecap="round" stroke-linejoin="round">
                        <path d="M6 9l6 6l6 -6"></path>
                    </svg>
                </div>
                <div id="schedulesSliderDots" class="crow gap-8" style="height: 16px; opacity: inherit; margin-top: 8px;">
                </div>
            </div>
        </div>
    </div>
    <div id="prefWeightPanel" class="dialog hidden">
        <div style="width: 100vw; height: 100vh; position: absolute; top: 0; right: 0;" onclick="hidePrefWeight()"></div>
        <div class="column gap-14 transy">
            <h2>وزن التفضيلة</h2>            
            <div class="rrow c-gray-txt" style="align-items: start;">
                <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="var(--gray-txt)" fill="var(--gray)" stroke-linecap="round" stroke-linejoin="round">
                    <path stroke="none" stroke-width="0" d="M12 12m-11 0a9 9 0 1022 0 9 9 0 10-22 0"></path>
                    <path d="M12 8l0 4"></path>
                    <path d="M12 16l.01 0"></path>
                </svg>
                <div style="margin-right: 8px;">ملاحظة : التركيز على تفضيلة واحدة يعطي في الغالب نتائج افضل</div>
            </div>
            <button class="bg-gray-2" onclick="resetPrefWeight()" style="position: absolute; top: 155px; left: 40px; padding: 0 10px; outline: var(--gray-3) solid 1px;">الافتراضية</button>
            <input id="prefWeight" type="text" class="unit bg-gray c-black transy" style="padding-left: 100px;" placeholder="0 - 10000" required>
            <div class="rrow gap-14" style="margin-top: 0.5rem;">
                <button class="unit bg-main c-over-main" style="width: auto;" onclick="updatePrefWeight()">حسنا</button>
                <button class="unit bg-main c-over-main" style="width: auto;" onclick="hidePrefWeight()">الغ</button>
            </div>
        </div>
    </div>
    <form id="settings" class="dialog hidden" onsubmit="updateSettings(event)" style="width: 520px;">
        <div style="width: 100vw; height: 100vh; position: absolute; top: 0; right: 0;" onclick="hideSettings()"></div>        
        <div class="column gap-14 transy">
            <div class="srow">
                <h2>الاعدادات</h2>
                <svg xmlns="http://www.w3.org/2000/svg" class="pointer i-btn" onclick="hideSettings()" width="24" height="24" viewBox="0 0 24 24" stroke-width="1" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
                <path d="M18 6l-12 12"></path>
                <path d="M6 6l12 12"></path>
                </svg>
            </div>
            <div id="noteSlot"></div>
            <div class="rrow gap-8">
                <label for="generatingMethod" style="flex-shrink: 0; width: 140px;">طريقة التوليد : </label>
                <select class="unit bg-gray c-black" style="width: fit-content; flex-grow: 2;" name="generatingMethod" id="generatingMethod" onchange="updateSettingsView()">                    
                    <option value="fullScan">طريقة المسح الكامل</option>
                    <option value="genetic">طريقة الوراثة</option>
                </select>
            </div>
            <div id="geneticSettings" class="column gap-14" >
                <div class="rrow gap-8">
                    <label for="generations" style="flex-shrink: 0; width: 140px;">عدد الاجيال : </label>
                    <input name="generations" id="generations" class="unit bg-gray c-black" style="width: fit-content; flex-grow: 2;" type="text" onfocus="this.classList.remove('error')">
                </div>
                <div class="rrow gap-8">
                    <label for="intilizedSchedules" style="flex-shrink: 0; width: 140px;">عدد الجداول الابتدائية : </label>
                    <input name="intilizedSchedules" id="intilizedSchedules" class="unit bg-gray c-black" style="width: fit-content; flex-grow: 2;" type="text" onfocus="this.classList.remove('error')">
                </div>
                <div class="rrow gap-8">
                    <label for="mututeProbablity" style="flex-shrink: 0; width: 140px;">احتمال التحوير : </label>
                    <input name="mututeProbablity" id="mututeProbablity" class="unit bg-gray c-black" style="width: fit-content; flex-grow: 2;" type="text" value="0.5" placeholder="0 - 1" onfocus="this.classList.remove('error')">
                </div>
            </div>
            <div id="fullScanSettings">
                <div class="rrow gap-8">
                    <label for="fullScanSchedulesNumber" style="flex-shrink: 0; width: 140px;">عدد الجداول المولدة : </label>
                    <input name="fullScanSchedulesNumber" id="fullScanSchedulesNumber" class="unit bg-gray c-black" style="width: fit-content; flex-grow: 2;" type="text" onfocus="this.classList.remove('error')">
                </div>
            </div>
            <div class="rrow gap-8">
                <label for="conflictHandling" style="flex-shrink: 0; width: 140px;">التعامل مع التعارضات : </label>
                <select name="conflictHandling" id="conflictHandling" class="unit bg-gray c-black" style="width: fit-content; flex-grow: 2;" onchange="updateSettingsView()">
                    <option value="treatAsSame">معاملة كل التعارضات بشكل متساوي</option>
                    <option value="treatDiff">ترتيب التعارضات حسب مدة التعارض</option>
                </select>
            </div>
            <div id="conflictTimeSettings">
                <div class="rrow gap-8">
                    <label for="conflictCost" style="flex-shrink: 0; width: 140px;">تكلفة التعارض : </label>
                    <input name="conflictCost" id="conflictCost" class="unit bg-gray c-black" style="width: fit-content; flex-grow: 2;" type="text" onfocus="this.classList.remove('error')">
                </div>
            </div>
            <div class="rrow gap-14" style="margin-top: 0.5rem;">
                <button type="submit" class="unit bg-main c-over-main" style="width: auto;">تطبيق</button>
                <button type="button" class="unit bg-main c-over-main" style="width: auto;" onclick="hideSettings()">الغ</button>
            </div>
        </div>
    </form>
    <div id="addCoursePanel" class="dialog hidden">
        <div style="width: 100vw; height: 100vh; position: absolute; top: 0; right: 0;" onclick="hideAddCourse()"></div>
        <div class="column gap-14 transy">
            <div class="rrow">
                <svg xmlns="http://www.w3.org/2000/svg" class="pointer i-btn" onclick="hideAddCourse()" width="24" height="24" viewBox="0 0 24 24" stroke-width="1" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
                <path d="M18 6l-12 12"></path>
                <path d="M6 6l12 12"></path>
                </svg>
            </div>
            <input id="courseName" type="text" class="unit bg-gray c-black transy" placeholder="اسم المساق" required onfocus="this.classList.remove('error')">
            <div class="word-line srow"><div class="bg-gray-3"></div><div class="bg-gray-3"></div></div>
            <h2 style="margin-right: 15px;">الشعب</h2>
            <div class="crow" style="align-items: flex-start; height: 321px;">
                <div id="branches" class="column gap-14 scroll" style="min-width: 180px; height: 280px; padding: 0;">
                    <button class="unit srow tab" onclick="addBranch(this)">
                    <div class="c-black">اضافة شعبة</div>
                    <svg style="margin-left: -7px;" xmlns="http://www.w3.org/2000/svg" width="28" height="28" viewBox="0 0 24 24" stroke-width="1" stroke="var(--black)" fill="none" stroke-linecap="round" stroke-linejoin="round">
                        <path d="M12 5l0 14"></path>
                        <path d="M5 12l14 0"></path>
                    </svg>
                    </button>
                </div>
                <div id="branchDetails" class="column gap-14">
                    <div class="srow">
                        <div class="c-black">المواعيد</div>
                        <svg xmlns="http://www.w3.org/2000/svg" class="pointer i-btn" onclick="removeBranch()" viewBox="0 0 24 24" stroke-width="1" stroke="var(--gray-2-txt)" fill="none" stroke-linecap="round" stroke-linejoin="round">
                        <path d="M4 7l16 0"></path>
                        <path d="M10 11l0 6"></path>
                        <path d="M14 11l0 6"></path>
                        <path d="M5 7l1 12a2 2 0 0 0 2 2h8a2 2 0 0 0 2 -2l1 -12"></path>
                        <path d="M9 7v-3a1 1 0 0 1 1 -1h4a1 1 0 0 1 1 1v3"></path>
                        </svg>
                    </div>
                    <div class="srow" style="padding: 0 15px 0 64px;">
                        <div class="crow" style="width: 70px;">اليوم</div>
                        <div class="bg-gray-txt" style="height: 10px; width: 1px;"></div>
                        <div class="crow" style="width: 70px;">من</div>
                        <div class="bg-gray-txt" style="height: 10px; width: 1px;"></div>
                        <div class="crow" style="width: 70px;">الى</div>
                    </div>
                    <div id="timeSlots" class="column gap-14 scroll">
                    </div>
                </div>
            </div>
            <button class="unit bg-main" onclick="addCourse()"><h2 class="c-over-main">اضافة</h2></button>
            <button class="unit bg-main" onclick="editCourse()"><h2 class="c-over-main">تعديل</h2></button>
        </div>
    </div>
    <div id="errorMsg" class="unit crow error transy">
    </div>
    <script>
        if (/android|iphone|kindle|ipad/i.test(navigator.userAgent)) {
            alert("التصميم المتجاوب قادم قريبا, يمكنك استخدام الموقع من على جهاز الحاسوب او تفعيل وضع سطح المكتب لتجربة افضل")
        }
    </script>

    <script src="js/skeleton.js"></script>
    
    <!-- Google tag (gtag.js) -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-KTFPXT8PSH"></script>
    <script>
        window.dataLayer = window.dataLayer || [];
        function gtag(){dataLayer.push(arguments);}
        gtag('js', new Date());
        
        gtag('config', 'G-KTFPXT8PSH');
    </script>
</body>
</html>